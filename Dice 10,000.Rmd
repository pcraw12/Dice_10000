---
title: "Dice - 10,000"
author: "Peter Crawford"
date: "8/19/2020"
output: html_document
---

### Introduction:

Rules for the game Dice (10,000): https://en.wikipedia.org/wiki/Dice_10000#:~:text=The%20first%20player%20to%20score,exactly%2010%2C000%20without%20going%20over.

We play where you need to score 1,000 to get on the board and there is no point requirement for turns after getting on the board. We also play where you can't roll from the previous player's dice - you start with six fresh dice every time. The rest of the rules on the above wikipedia link seem to be how we usually play.

The main question to be answered here is what score should I aim for each turn that will increase my chances of reaching 10,000 fastest? (i.e. should I always stop after rolling past 400? 500? 600?)


### Code:

Create a function to roll dice. (Only variable being the number of dice rolled)
```{r}
roll <- function(num_of_dice) {
  sample(c(1:6), num_of_dice, replace = TRUE)
}
```

Create a function for scoring the rolled dice, and re-rolling if threshold not breached.
```{r}
score <- function(roll_values, threshold_value, start_points) {
  
  # Starting values:
  values <- as.data.frame(table(roll_values)) # get frequency
  values$hand <- as.numeric(levels(values$hand))[values$hand] 
  
  print("You rolled: ", roll_values)
  
  # Straight:
  if (length(values$hand[values$Freq == 1]) == 6) { points <- 1500 }
  
  # Combinations, ones, and fives:
  values$combos <- ifelse(values$Freq >= 3, (values$hand * 100) * (values$Freq - 2), 0)
  values$combos <- ifelse(values$combos == 100, values$combos * 10, values$combos)
  values$ones <- ifelse((values$combos == 0) & (values$hand == 1), 100 * values$Freq, 0)
  values$fives <- ifelse((values$combos == 0) & (values$hand == 5), 50 * values$Freq, 0)
  values$unused_dice <- ifelse((values$combos == 0) & (values$ones == 0) & (values$fives == 0), values$Freq, 0)
  
  # Get the roll score and number of leftover dice:
  points <- sum(values$combos) + sum(values$ones) + sum(values$fives)
  unused_dice <- sum(values$unused_dice)
  print("This roll scored: ", points)
  print("Unused dice: " unused_dice)
  
  if (points == 0) {
    print("Turn ended, zero points")
    return(points)
  }
  
  # Determine whether or not to continue rolling:
  # 1. Stop rolling if threshold is reached
  # 2. Stop rolling if no points scored & no 
  if ((points < threshold_value) & (points != 0)) {
    print("Now rolloing unused dice")
    
    
    
  }
  
  
  
  
  
  
  score(roll_values = roll(unused_dice), threshold_value = threshold_value, start_points = points)
  
  
  
  return(points)
}
```



```{r}
score(roll(6))
```





TESTING ENVIRONMENT:
```{r}
hand <- c(2,4,6)
values <- as.data.frame(table(hand))
values$hand <- as.numeric(levels(values$hand))[values$hand] 
values$combos <- ifelse(values$Freq >= 3, (values$hand * 100) * (values$Freq - 2), 0)
values$combos <- ifelse(values$combos == 100, 1000, values$combos)
values$ones <- ifelse((values$combos == 0) & (values$hand == 1), 100 * values$Freq, 0)
values$fives <- ifelse((values$combos == 0) & (values$hand == 5), 50 * values$Freq, 0)

roll_score <- sum(values$combos) + sum(values$ones) + sum(values$fives)
values$unused_dice <- ifelse((values$combos == 0) & (values$ones == 0) & (values$fives == 0), values$Freq, 0)
unused_dice <- sum(values$unused_dice)

values

roll_score
unused_dice
```






Create a function that returns the number of turns it took to get to 10,000 points. The only variable here will be the score at which to "settle."
```{r}
dice_values <- roll(6)

num_of_turns <- function(settle_value) {
  
  score <- 0                                                  # score starts at 0
  
  first_roll <- roll(6)                                       # start by rolling all 6 dice
  
  
  
  
  
}










```









Eventually it might be cool to be able to tell the probability of winning depending on your current score and everyone else's score.




